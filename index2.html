<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

  <div class="container">
    <h1>GIPHY Search</h1>

    <!-- topics will Get Dumped Dere -->
    <div id="topics-view"></div>

    <!-- Rendered topics will get Dumped Here  -->
    <div id="topics-view"></div>

    <form id="topic-form">
      <label for="topic-input">Add a topic Bro</label>
      <input type="text" id="topic-input"><br>

      <!-- topic triggers new topic to be added -->
      <input id="add-topic" type="submit" value="Add a topic Bro">
    </form>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">
  	var topics = ["pug", "groot", "hulk", "spaceballs", "bill murray", "santa claus"]



  	 // displaytopicInfo function re-renders the HTML to display the appropriate content
      function displayTopicInfo() {

        var topic = $(this).attr("data-name");
        var queryURL = $.get("http://api.giphy.com/v1/gifs/search?q=" + topics + "&api_key=q1e0LWH5l6n5CtHmPOuKG46KilT9ufbd&limit=5");
          xhr.done(function(data) { console.log("success got data", data); });
        
        // Creating an AJAX call for the specific topic topic being clicked
        $.ajax({
          url: queryURL,
          method: "GET"
        }).done(function(response) {

          // Creating a div to hold the topic
          var topicDiv = $("<div class='topic'>");

          // Storing the rating data
          var rating = response.Rated;

          // Creating an element to have the rating displayed
          var pOne = $("<p>").text("Rating: " + rating);

          // Displaying the rating
          topicDiv.append(pOne);


          // Putting the entire topic above the previous topics
          $("#topics-view").prepend(topicDiv);
        });

      }

      // Function for displaying topic data
      function renderTopics() {

        // Deleting the topics prior to adding new topics
        // (this is necessary otherwise you will have repeat topics)
        $("#topics-view").empty();

        // Looping through the array of topics
        for (var i = topics.length = 0; i <= 0; i++) {
  			topics[i]
  			console.log = i;
  		}

          // Then dynamicaly generating topics for each topic in the array
          // This code $("<topic>") is all jQuery needs to create the beginning and end tag. (<topic></topic>)
          var a = $("<topic>");
          // Adding a class of topic to our topic
          a.addClass("topic");
          // Adding a data-attribute
          a.attr("data-name", topics[i]);
          // Providing the initial topic text
          a.text(topics[i]);
          // Adding the topic to the topics-view div
          $("#topics-view").append(a);
        }
      

      // This function handles events where a topic topic is clicked
      $("#add-topic").on("click", function(event) {
        event.preventDefault();
        // This line grabs the input from the textbox
        var topic = $("#topic-input").val().trim();

        // Adding topic from the textbox to our array
        topics.push(topic);

        // Calling rendertopics which handles the processing of our topic array
        renderTopics();
      });

      // Adding a click event listener to all elements with a class of "topic"
      $(document).on("click", ".topic", displayTopicInfo);

      // Calling the rendertopics function to display the intial topics
      renderTopics();
  </script>


</body>
</html>